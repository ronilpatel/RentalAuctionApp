{% extends 'baselandlord.html' %}

{% load static %}
{% block content %}

<section class="ftco-section ftco-property-details" style="background-color: white;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12">
                    <div class="property-details">
                          <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                  <div class="carousel-inner" role="listbox">  

     <!--------------------------------------------------------------- This is the place for Property images display --------------------------------------->                                
                                    {% for i in imageobjs %}
                                    {% if forloop.first %}
                                    <div class="carousel-item active" >
                                        <img class="d-block w-100" height="600px" src="{{ MEDIA_URL }}/{{i.proimage}}" alt="No Image Available">
                                    </div> 
                                    {% else %}
                                    <div class="carousel-item">
                                        <img class="d-block w-100" height="600px" src="{{ MEDIA_URL }}/{{i.proimage}}" alt="No Image Available">
                                    </div>
                                    {% endif %}
                                    {% endfor %}
                                  </div>
     <!---------------------------------------------------------------------------------------------------------------------------------------------------->

                                  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                  </a>
                                  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                  </a>
                                </div>
                        <div class="text text-center">
                            <span class="subheading"></span>
                            <h2><strong>{{ pd.propname }}</h2></strong>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 pills">
                          <div class="bd-example bd-example-tabs">
                              <div class="d-flex justify-content-center">
                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
  
                                  <li class="nav-item">
                                    <a class="nav-link active" id="pills-description-tab" data-toggle="pill" href="#pills-description" role="tab" aria-controls="pills-description" aria-expanded="true">Features</a>
                                  </li>
                                  <li class="nav-item">
                                    <a class="nav-link" id="pills-manufacturer-tab" data-toggle="pill" href="#pills-manufacturer" role="tab" aria-controls="pills-manufacturer" aria-expanded="true">Description</a>
                                  </li>
                                  <li class="nav-item">
                                    <a class="nav-link" id="pills-amenities-tab" data-toggle="pill" href="#pills-amenities" role="tab" aria-controls="pills-amenities" aria-expanded="true">Amenities</a>
                                  </li>
                                  <li class="nav-item">
                                      <a class="nav-link" id="pills-offers-tab" data-toggle="pill" href="#pills-offers" role="tab" aria-controls="pills-offers" aria-expanded="true">Offers</a>
                                  </li>
                                  <li class="nav-item">
                                          <a class="nav-link" id="pills-rooms-tab" data-toggle="pill" href="#pills-rooms" role="tab" aria-controls="pills-rooms" aria-expanded="true">Rooms</a>
                                  </li>
                                </ul>
                              </div>
  
                            <div class="tab-content" id="pills-tabContent">
                              <div class="tab-pane fade show active" id="pills-description" role="tabpanel" aria-labelledby="pills-description-tab">
                                  <div class="row">
                                      <div class="col-md-4">
                                          <ul class="features">
                                              <strong><li class="check"><span class="ion-ios-checkmark"></span>Preferance : {{ pd.proptenantcategory }}</li></strong>
                                              <strong><li class="check"><span class="ion-ios-checkmark"></span>Floor Area: {{ pd.propsize }} SQ FT</li></strong>             
                                          </ul>
                                      </div> 
                                      <div class="col-md-4">
                                          <ul class="features">                                            
                                                <strong><li class="check"><span class="ion-ios-checkmark"></span>Category : {{ pd.propcategory }}</li></strong>
                                                <strong><li class="check"><span class="ion-ios-checkmark"></span>Minimum Stay : {{ pd.propminimumstay }} month(s)</li></strong>
                                          </ul>
                                      </div>
                                      <div class="col-md-4">
                                          <ul class="features">
                                                <strong><li class="check"><span class="ion-ios-checkmark"></span>Total Rooms : {{ pd.propcapacityrooms }}</li></strong>
                                                <strong><li class="check"><span class="ion-ios-checkmark"></span>Total Beds : {{ pd.propcapacitybeds }}</li></strong>                                    
                                          </ul>
                                      </div> 
                                  </div>
                              </div>
        <!--------------------------------------------------------------- This is the place for amenity display --------------------------------------->
                            <div class="tab-pane fade" id="pills-manufacturer" role="tabpanel" aria-labelledby="pills-manufacturer-tab">
                                <center>
                                        <strong><p>{{ pd.propextradetails }}</p></strong>
                                </center>    
                            </div>
        <!--------------------------------------------------------------------------------------------------------------------------------------------->
        
        

        <!--------------------------------------------------------------- This is the place for amenity display --------------------------------------->
        <div class="tab-pane fade" id="pills-amenities" role="tabpanel" aria-labelledby="pills-amenities-tab">
                <div class="row">
                    {% for z in amenityobjs %}
                        <div class="col-md-4">
                            <ul class="features">
                                <li class="check"><span class="ion-ios-checkmark"></span>{{ z.amenityname }}
                                </li>
                            </ul>
                        </div>
                    {% endfor %}
                </div>
            </div>
        <!--------------------------------------------------------------------------------------------------------------------------------------------->


        <!---------------------------------------This is the place to display the offers made on the property------------------------------------------>
                        <!-- <form action="/property/approvetenant/" method="post" enctype="multipart/form-data">   
                            {% csrf_token %} -->
                            <div style="background-color: rgb(241, 214, 241);" class="tab-pane fade" id="pills-offers" role="tabpanel" aria-labelledby="pills-offers-tab">
                                <br><br>
                                <div class="row">
                                    {% for t in br %}
                                        <div class="col-md-4">
                                            <div class="property-wrap ftco-animate">
                                                <div class="text">
                                                    <h3><a href="#"><b>{{ t.user.userfname }} {{ t.user.userlname }}</b></a></h3>
                                                    <h3>{{ t.personcatbid }}</h3>
                                                    <p class="price">Deposit Amount: 
                                                        <span class="orig-price">Rs.{{ t.depositbid }}</span><br>
                                                        Offer Price:
                                                        <span class="orig-price">Rs.{{ t.rentbid }}<small>/mo/bed</small></span></p>
                                                    <ul class="property_list">
                                                        <li><span class="flaticon-bed"></span>Beds : {{ t.bedbid }}</li>
                                                        <!-- <li><span class="flaticon-bathtub"></span>{{ t.auc.prop.washroomstyle }}</li>  -->
                                                    </ul>
                                                    <!-- <span class="location">{{ t.user.address.towncity_name }}</span><br>                       
                                                        <input type="hidden" value="{{ t.user.userid }}" name="uid">
                                                        <input type="hidden" value="{{ t.auc.prop.propid }}" name="pid">
                                                        <input type="hidden" value="{{ t.id }}" name="uniqueid">
                                                    <button type="submit" class="btn btn-primary btn-block">Approve</button>    
                                                    -->
                                                    <a href="/property/approvetenant/?q={{t.id}}&r={{t.auc.auctionid}}">
                                                        <input type="button" class="btn btn-primary btn-block" value="Accept">
                                                    </a> 
                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        <!-- </form> -->
        <!--------------------------------------------------------------------------------------------------------------------------------------------->
        
        <!---------------------------------------This is the place to display the offers made on the property------------------------------------------>

                        <div class="tab-pane fade" id="pills-rooms" role="tabpanel" aria-labelledby="pills-rooms-tab"> 
                            <div class="room-data">
                                <table class="table table-striped" style="background-color: white; color: black">
                                    <thead>
                                        <tr style="background-color: rgb(224, 122, 202);">
                                            <strong>
                                                <th class="text-center">Room No.</th>
                                                <th class="text-center">Total Beds</th>
                                                <th class="text-center">Available Beds</th>
                                                <!-- <th class="text-center">Attached Bathroom</th> -->
                                                <th class="text-center">Details</th>  
                                            </strong>                                      
                                        </tr>
                                    </thead>
                                    {% for y in roomobjs %}
                                        <tbody>
                                            <tr>
                                                <td class="text-center">{{ y.roomtag }}</td>
                                                <td class="text-center">{{ y.bedcapacity }}</td>
                                                <td class="text-center">{{ y.bedavailable }}</td>
                                                <!-- <td class="text-center">{{ y.ismasterroom }}</td> -->
                                                <td class="text-center">{{ y.roomdetails}}</td>            
                                            </tr>
                                        </tbody>
                                    {% endfor %}
                                </table>
                            </div>
                        </div>
         <!--------------------------------------------------------------------------------------------------------------------------------------------->
                </div>
            </div>
        </div>
      </section>
{% endblock %}